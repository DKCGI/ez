{"version":3,"file":"component---src-pages-index-js-efb64278a69dd0efe0df.js","mappings":"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","sources":["webpack://eznet/./src/pages/index.js"],"sourcesContent":["import * as React from 'react';\r\nimport { useRef, useEffect } from 'react';\r\nimport Layout from '../components/Layout';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledMain = styled.main``;\r\nconst IndexPage = () => {\r\n  const canvasRef = useRef();\r\n  const animateRef = useRef();\r\n  const requestRef = useRef();\r\n  const getDistance = (a, b) => {\r\n    let changeX = (b.x - a.x) * (b.x - a.x);\r\n    let changeY = (b.y - a.y) * (b.y - a.y);\r\n    let d = Math.sqrt(changeX + changeY);\r\n    return d;\r\n  };\r\n  useEffect(() => {\r\n    let canvas = canvasRef.current;\r\n    const setCanvasSize = () => {\r\n      canvas.width = window.innerWidth * 2;\r\n      canvas.height = window.innerHeight * 2;\r\n      canvas.style.width = `${window.innerWidth}px`;\r\n      canvas.style.height = `${window.innerHeight}px`;\r\n    };\r\n    canvas.style.position = 'fixed';\r\n    canvas.style.top = 0;\r\n    setCanvasSize();\r\n    window.addEventListener('resize', setCanvasSize);\r\n    const mousePos = { x: 0, y: 0 };\r\n    const context = canvas.getContext('2d');\r\n    // context.scale(2, 2);\r\n    context.lineCap = 'round';\r\n    context.strokeStyle = '#555555';\r\n    const updateMousePos = (e) => {\r\n      mousePos.x = e.x * 2;\r\n      mousePos.y = e.y * 2;\r\n    };\r\n    window.addEventListener('mousemove', updateMousePos);\r\n    window.addEventListener('touchmove', updateMousePos);\r\n\r\n    class Dot {\r\n      constructor(posX, posY, velX, velY) {\r\n        this.pos = {\r\n          x: posX,\r\n          y: posY,\r\n        };\r\n        this.color = 'rgba(0,0,0,0.2)';\r\n        this.vel = {\r\n          x: velX,\r\n          y: velY,\r\n        };\r\n      }\r\n      draw() {\r\n        context.beginPath();\r\n        context.arc(this.pos.x, this.pos.y, 3, 0, Math.PI * 2);\r\n        context.fill();\r\n      }\r\n      update() {\r\n        this.draw();\r\n        if (this.pos.x > canvas.width || this.pos.x < 0) {\r\n          this.vel.x *= -1;\r\n        }\r\n        if (this.pos.y > canvas.height || this.pos.y < 0) {\r\n          this.vel.y *= -1;\r\n        }\r\n        this.pos.x += this.vel.x;\r\n        this.pos.y += this.vel.y;\r\n      }\r\n    }\r\n\r\n    let numOfDots = window.innerWidth / 10;\r\n\r\n    let dotArray = [];\r\n\r\n    for (let i = 0; i < numOfDots; i++) {\r\n      dotArray.push(\r\n        new Dot(\r\n          Math.random() * canvasRef.current.width,\r\n          Math.random() * canvasRef.current.height,\r\n          Math.random() > 0.5 ? Math.random() * 5 : Math.random() * -5,\r\n          Math.random() > 0.5 ? Math.random() * 5 : Math.random() * -5\r\n        )\r\n      );\r\n    }\r\n\r\n    animateRef.current = () => {\r\n      context.fillStyle = 'rgba(255,255,255,0.03)';\r\n      context.fillRect(0, 0, canvasRef.current.width, canvasRef.current.height);\r\n      dotArray.forEach((dot, index, array) => {\r\n        let d = getDistance(mousePos, dot.pos);\r\n        if (d > canvas.width / 6) {\r\n          context.fillStyle = `rgba(0,100,200,${d / 10000})`;\r\n          context.strokeStyle = `rgba(0,100,200,${d / 10000})`;\r\n\r\n          for (let i = 0; i < array.length; i++) {\r\n            if (index !== i) {\r\n              if (getDistance(array[i].pos, dot.pos) < 300) {\r\n                context.beginPath();\r\n                context.moveTo(array[i].pos.x, array[i].pos.y);\r\n                context.lineTo(dot.pos.x, dot.pos.y);\r\n                context.stroke();\r\n                context.fill();\r\n              }\r\n            }\r\n          }\r\n        }\r\n        dot.update();\r\n      });\r\n\r\n      requestRef.current = requestAnimationFrame(animateRef.current);\r\n    };\r\n    requestRef.current = requestAnimationFrame(animateRef.current);\r\n    return () => {\r\n      cancelAnimationFrame(requestRef.current);\r\n      window.removeEventListener('mousemove', updateMousePos);\r\n      window.removeEventListener('resize', setCanvasSize);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Layout>\r\n      <StyledMain>\r\n        <canvas ref={canvasRef}></canvas>\r\n      </StyledMain>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default IndexPage;\r\n"],"names":["StyledMain","styled","canvasRef","useRef","animateRef","requestRef","getDistance","a","b","changeX","x","changeY","y","Math","sqrt","useEffect","canvas","current","setCanvasSize","width","window","innerWidth","height","innerHeight","style","position","top","addEventListener","mousePos","context","getContext","lineCap","strokeStyle","updateMousePos","e","Dot","posX","posY","velX","velY","this","pos","color","vel","draw","beginPath","arc","PI","fill","update","numOfDots","dotArray","i","push","random","fillStyle","fillRect","forEach","dot","index","array","d","length","moveTo","lineTo","stroke","requestAnimationFrame","cancelAnimationFrame","removeEventListener","ref"],"sourceRoot":""}