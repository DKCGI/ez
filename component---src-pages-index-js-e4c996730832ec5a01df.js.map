{"version":3,"file":"component---src-pages-index-js-e4c996730832ec5a01df.js","mappings":"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","sources":["webpack://eznet/./src/pages/index.js"],"sourcesContent":["import * as React from 'react';\r\nimport { useRef, useEffect } from 'react';\r\nimport Layout from '../components/Layout';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledMain = styled.main``;\r\nconst IndexPage = () => {\r\n  const canvasRef = useRef();\r\n  const animateRef = useRef();\r\n  const requestRef = useRef();\r\n  const getDistance = (a, b) => {\r\n    let changeX = (b.x - a.x) * (b.x - a.x);\r\n    let changeY = (b.y - a.y) * (b.y - a.y);\r\n    let d = Math.sqrt(changeX + changeY);\r\n    return d;\r\n  };\r\n  useEffect(() => {\r\n    let canvas = canvasRef.current;\r\n    const setCanvasSize = () => {\r\n      canvas.width = window.innerWidth * 2;\r\n      canvas.height = window.innerHeight * 2;\r\n      canvas.style.width = `${window.innerWidth}px`;\r\n      canvas.style.height = `${window.innerHeight}px`;\r\n    };\r\n    canvas.style.position = 'fixed';\r\n    canvas.style.top = 0;\r\n    setCanvasSize();\r\n    window.addEventListener('resize', setCanvasSize);\r\n    const mousePos = { x: 0, y: 0 };\r\n    const context = canvas.getContext('2d');\r\n    // context.scale(2, 2);\r\n    context.lineCap = 'round';\r\n    context.strokeStyle = '#555555';\r\n    const updateMousePos = (e) => {\r\n      if (e) {\r\n        if (e.x && e.y) {\r\n          mousePos.x = e.x * 2;\r\n          mousePos.y = e.y * 2;\r\n        } else if (e.touches && e.touches) {\r\n          mousePos.x = e.touches[0].clientX * 2;\r\n          mousePos.y = e.touches[0].clientY * 2;\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    };\r\n    window.addEventListener('mousemove', updateMousePos);\r\n    window.addEventListener('touchmove', updateMousePos);\r\n\r\n    class Dot {\r\n      constructor(posX, posY, velX, velY) {\r\n        this.pos = {\r\n          x: posX,\r\n          y: posY,\r\n        };\r\n        this.color = 'rgba(0,0,0,0.2)';\r\n        this.vel = {\r\n          x: velX,\r\n          y: velY,\r\n        };\r\n        this.acc = {\r\n          x: 0,\r\n          y: 0,\r\n        };\r\n      }\r\n      draw() {\r\n        context.beginPath();\r\n        context.arc(this.pos.x, this.pos.y, 3, 0, Math.PI * 2);\r\n        context.fill();\r\n      }\r\n      update() {\r\n        this.draw();\r\n        if (this.pos.x > canvas.width || this.pos.x < 0) {\r\n          this.vel.x *= -1;\r\n        }\r\n        if (this.pos.y > canvas.height || this.pos.y < 0) {\r\n          this.vel.y *= -1;\r\n        }\r\n        this.pos.x += this.vel.x;\r\n        this.pos.y += this.vel.y;\r\n      }\r\n    }\r\n\r\n    let numOfDots = window.innerWidth / 10;\r\n\r\n    let dotArray = [];\r\n\r\n    for (let i = 0; i < numOfDots; i++) {\r\n      dotArray.push(\r\n        new Dot(\r\n          Math.random() * canvasRef.current.width,\r\n          Math.random() * canvasRef.current.height,\r\n          Math.random() > 0.5 ? Math.random() * 5 : Math.random() * -5,\r\n          Math.random() > 0.5 ? Math.random() * 5 : Math.random() * -5\r\n        )\r\n      );\r\n    }\r\n    const repel = () => {};\r\n    window.addEventListener('click', repel);\r\n\r\n    animateRef.current = () => {\r\n      context.fillStyle = 'rgba(255,255,255,0.03)';\r\n      context.fillRect(0, 0, canvasRef.current.width, canvasRef.current.height);\r\n      dotArray.forEach((dot, index, array) => {\r\n        let d = getDistance(mousePos, dot.pos);\r\n        if (d > canvas.width / 6) {\r\n          context.fillStyle = `rgba(0,75,150,${d / 10000})`;\r\n          context.strokeStyle = `rgba(0,75,150,${d / 10000})`;\r\n\r\n          for (let i = 0; i < array.length; i++) {\r\n            if (index !== i) {\r\n              if (getDistance(array[i].pos, dot.pos) < 300) {\r\n                context.beginPath();\r\n                context.moveTo(array[i].pos.x, array[i].pos.y);\r\n                context.lineTo(dot.pos.x, dot.pos.y);\r\n                context.stroke();\r\n                context.fill();\r\n              }\r\n            }\r\n          }\r\n        }\r\n        dot.update();\r\n      });\r\n\r\n      requestRef.current = requestAnimationFrame(animateRef.current);\r\n    };\r\n    requestRef.current = requestAnimationFrame(animateRef.current);\r\n    return () => {\r\n      cancelAnimationFrame(requestRef.current);\r\n      window.removeEventListener('mousemove', updateMousePos);\r\n      window.removeEventListener('resize', setCanvasSize);\r\n      window.removeEventListener('click', repel);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Layout>\r\n      <StyledMain>\r\n        <canvas ref={canvasRef}></canvas>\r\n      </StyledMain>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default IndexPage;\r\n"],"names":["StyledMain","styled","canvasRef","useRef","animateRef","requestRef","getDistance","a","b","changeX","x","changeY","y","Math","sqrt","useEffect","canvas","current","setCanvasSize","width","window","innerWidth","height","innerHeight","style","position","top","addEventListener","mousePos","context","getContext","lineCap","strokeStyle","updateMousePos","e","touches","clientX","clientY","Dot","posX","posY","velX","velY","this","pos","color","vel","acc","draw","beginPath","arc","PI","fill","update","numOfDots","dotArray","i","push","random","repel","fillStyle","fillRect","forEach","dot","index","array","d","length","moveTo","lineTo","stroke","requestAnimationFrame","cancelAnimationFrame","removeEventListener","ref"],"sourceRoot":""}